camera:
  host: "atomcam.local"
  # http_user: "user"           # 認証が必要な場合のみ設定
  # http_password: "passwd"
  base_path: "sdcard/record"
  timeout_sec: 10
  retry_count: 3

detection:
  min_line_length: 30
  canny_threshold1: 100
  canny_threshold2: 200
  hough_threshold: 25
  max_line_gap: 5
  exposure_duration_sec: 1.0
  clip_margin_sec: 0.5
  mask_path: null
  exclude_bottom_pct: 0           # フレーム下部を除外する割合（0〜50%）
  min_line_brightness: 20.0       # 差分画像上の最低輝度（0で無効）

schedule:
  start_time: "22:00"             # デフォルトの開始時刻（固定モード用）
  end_time: "06:00"               # デフォルトの終了時刻（固定モード用）
  interval_minutes: 15            # パイプライン実行間隔（分）。0でスケジューラ無効
  # 天文薄明ベースのスケジュールは Web UI の設定モーダルから構成可能。
  # Web UI で設定した値は SQLite DB に保存され、YAML 値より優先される。
  # モード: fixed（固定時刻）/ twilight（天文薄明自動）/ twilight_offset（薄明＋オフセット）
  # 位置情報: 47都道府県プリセットまたはカスタム緯度経度を指定可能。

paths:
  download_dir: "~/atomcam/downloads"
  output_dir: "~/atomcam/output"
  db_path: "~/atomcam/state.db"
  lock_path: "~/atomcam/.lock"

web:
  host: "0.0.0.0"
  port: 8080
